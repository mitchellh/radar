<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Radar::ExceptionEvent</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (E)</a> &raquo; 
    <span class='title'><a href="../Radar.html" title="Radar (module)">Radar</a></span>
     &raquo; 
    <span class="title">ExceptionEvent</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Radar::ExceptionEvent
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Radar::ExceptionEvent</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/radar/exception_event.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Represents the event of an exception being captured. This class contains
references to the <tt><a href="Application.html" title="Radar::Application (class)">Application</a></tt> and exception which is raised.
</p>


  </div>
</div>
<div class="tags">
  
</div>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#application-instance_method" title="#application (instance method)">- (Object) <strong>application</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute application.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#exception-instance_method" title="#exception (instance method)">- (Object) <strong>exception</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute exception.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#occurred_at-instance_method" title="#occurred_at (instance method)">- (Object) <strong>occurred_at</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns the value of attribute occurred_at.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (ExceptionEvent) <strong>initialize</strong>(application, exception) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A new instance of ExceptionEvent.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_hash-instance_method" title="#to_hash (instance method)">- (Hash) <strong>to_hash</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A hash of information about this exception event.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_json-instance_method" title="#to_json (instance method)">- (String) <strong>to_json</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
JSONified <tt><a href="#to_hash-instance_method" title="Radar::ExceptionEvent#to_hash (method)">ExceptionEvent#to_hash</a></tt> output.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uniqueness_hash-instance_method" title="#uniqueness_hash (instance method)">- (String) <strong>uniqueness_hash</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns uniqueness hash to test if one event is roughly equivalent to
another.
</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><a href="" title="Radar::ExceptionEvent (class)">ExceptionEvent</a></tt>) <strong>initialize</strong>(application, exception) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of ExceptionEvent
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/radar/exception_event.rb', line 13</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id application'>application</span><span class='comma'>,</span> <span class='id exception'>exception</span><span class='rparen'>)</span>
  <span class='ivar'>@application</span> <span class='op'>=</span> <span class='id application'>application</span>
  <span class='ivar'>@exception</span> <span class='op'>=</span> <span class='id exception'>exception</span>
  <span class='ivar'>@occurred_at</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id now'>now</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <span id="application-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="application-instance_method">
  
    - (<tt>Object</tt>) <strong>application</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute application
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/radar/exception_event.rb', line 9</span>

<span class='kw'>def</span> <span class='id application'>application</span>
  <span class='ivar'>@application</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="exception-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="exception-instance_method">
  
    - (<tt>Object</tt>) <strong>exception</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute exception
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/radar/exception_event.rb', line 10</span>

<span class='kw'>def</span> <span class='id exception'>exception</span>
  <span class='ivar'>@exception</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="occurred_at-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="occurred_at-instance_method">
  
    - (<tt>Object</tt>) <strong>occurred_at</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns the value of attribute occurred_at
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/radar/exception_event.rb', line 11</span>

<span class='kw'>def</span> <span class='id occurred_at'>occurred_at</span>
  <span class='ivar'>@occurred_at</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="to_hash-instance_method">
  
    - (<tt>Hash</tt>) <strong>to_hash</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A hash of information about this exception event. This includes
<tt><a href="Application.html#to_hash-instance_method" title="Radar::Application#to_hash (method)">Radar::Application#to_hash</a></tt> as well as information about the exception. This also
includes any <tt><a href="Config.html#data_extension-instance_method" title="Radar::Config#data_extension (method)">data_extensions</a></tt> if specified.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/radar/exception_event.rb', line 25</span>

<span class='kw'>def</span> <span class='id to_hash'>to_hash</span>
  <span class='id result'>result</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='symbol'>:application</span> <span class='op'>=&gt;</span> <span class='id application'>application</span><span class='period'>.</span><span class='id to_hash'>to_hash</span><span class='comma'>,</span>
    <span class='symbol'>:exception</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
      <span class='symbol'>:klass</span> <span class='op'>=&gt;</span> <span class='id exception'>exception</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='comma'>,</span>
      <span class='symbol'>:message</span> <span class='op'>=&gt;</span> <span class='id exception'>exception</span><span class='period'>.</span><span class='id message'>message</span><span class='comma'>,</span>
      <span class='symbol'>:backtrace</span> <span class='op'>=&gt;</span> <span class='id exception'>exception</span><span class='period'>.</span><span class='id backtrace'>backtrace</span><span class='comma'>,</span>
      <span class='symbol'>:uniqueness_hash</span> <span class='op'>=&gt;</span> <span class='id uniqueness_hash'>uniqueness_hash</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='symbol'>:occurred_at</span> <span class='op'>=&gt;</span> <span class='id occurred_at'>occurred_at</span><span class='period'>.</span><span class='id to_i'>to_i</span>
  <span class='rbrace'>}</span>

  <span class='kw'>if</span> <span class='op'>!</span><span class='id application'>application</span><span class='period'>.</span><span class='id config'>config</span><span class='period'>.</span><span class='id data_extensions'>data_extensions</span><span class='period'>.</span><span class='id empty?'>empty?</span>
    <span class='id application'>application</span><span class='period'>.</span><span class='id config'>config</span><span class='period'>.</span><span class='id data_extensions'>data_extensions</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id extension'>extension</span><span class='op'>|</span>
      <span class='const'>Support</span><span class='op'>::</span><span class='const'>Hash</span><span class='period'>.</span><span class='id deep_merge!'>deep_merge!</span><span class='lparen'>(</span><span class='id result'>result</span><span class='comma'>,</span> <span class='id extension'>extension</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_hash'>to_hash</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_json-instance_method">
  
    - (<tt>String</tt>) <strong>to_json</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
JSONified <tt><a href="#to_hash-instance_method" title="Radar::ExceptionEvent#to_hash (method)">#to_hash</a></tt> output.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/radar/exception_event.rb', line 48</span>

<span class='kw'>def</span> <span class='id to_json'>to_json</span>
  <span class='id to_hash'>to_hash</span><span class='period'>.</span><span class='id to_json'>to_json</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="uniqueness_hash-instance_method">
  
    - (<tt>String</tt>) <strong>uniqueness_hash</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns uniqueness hash to test if one event is roughly equivalent to
another. The uniqueness hash is generated by taking the exception backtrace
and class and generating the SHA1 hash of those concatenated.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/radar/exception_event.rb', line 57</span>

<span class='kw'>def</span> <span class='id uniqueness_hash'>uniqueness_hash</span>
  <span class='const'>Digest</span><span class='op'>::</span><span class='const'>SHA1</span><span class='period'>.</span><span class='id hexdigest'>hexdigest</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id exception'>exception</span><span class='period'>.</span><span class='id class'>class</span><span class='rbrace'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id exception'>exception</span><span class='period'>.</span><span class='id backtrace'>backtrace</span> <span class='kw'>rescue</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>blank</span><span class='tstring_end'>'</span></span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sun Aug 15 12:24:17 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.8 (ruby-1.9.2).
</div>

  </body>
</html>